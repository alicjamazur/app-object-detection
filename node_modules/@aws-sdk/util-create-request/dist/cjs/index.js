"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.createRequest = void 0;
var tslib_1 = require("tslib");
function createRequest(client, command) {
    return tslib_1.__awaiter(this, void 0, void 0, function () {
        var interceptMiddleware, clientStack, handler;
        var _this = this;
        return tslib_1.__generator(this, function (_a) {
            switch (_a.label) {
                case 0:
                    interceptMiddleware = function (next) { return function (args) { return tslib_1.__awaiter(_this, void 0, void 0, function () {
                        return tslib_1.__generator(this, function (_a) {
                            return [2 /*return*/, { output: { request: args.request }, response: undefined }];
                        });
                    }); }; };
                    clientStack = client.middlewareStack.clone();
                    //add middleware to the last of 'build' step
                    clientStack.add(interceptMiddleware, {
                        step: "build",
                        priority: "low",
                    });
                    handler = command.resolveMiddleware(clientStack, client.config, undefined);
                    return [4 /*yield*/, handler(command).then(function (output) { return output.output.request; })];
                case 1: 
                //@ts-ignore
                return [2 /*return*/, _a.sent()];
            }
        });
    });
}
exports.createRequest = createRequest;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztBQUlBLFNBQXNCLGFBQWEsQ0FLakMsTUFBeUQsRUFDekQsT0FBNkU7Ozs7Ozs7b0JBR3ZFLG1CQUFtQixHQUEyQyxVQUFDLElBQUksSUFBSyxPQUFBLFVBQU8sSUFBSTs7NEJBQ3ZGLHNCQUFPLEVBQUUsTUFBTSxFQUFFLEVBQUUsT0FBTyxFQUFFLElBQUksQ0FBQyxPQUFPLEVBQVMsRUFBRSxRQUFRLEVBQUUsU0FBUyxFQUFFLEVBQUM7O3lCQUMxRSxFQUY2RSxDQUU3RSxDQUFDO29CQUNJLFdBQVcsR0FBRyxNQUFNLENBQUMsZUFBZSxDQUFDLEtBQUssRUFBRSxDQUFDO29CQUVuRCw0Q0FBNEM7b0JBQzVDLFdBQVcsQ0FBQyxHQUFHLENBQUMsbUJBQW1CLEVBQUU7d0JBQ25DLElBQUksRUFBRSxPQUFPO3dCQUNiLFFBQVEsRUFBRSxLQUFLO3FCQUNoQixDQUFDLENBQUM7b0JBRUcsT0FBTyxHQUFHLE9BQU8sQ0FBQyxpQkFBaUIsQ0FBQyxXQUF3QyxFQUFFLE1BQU0sQ0FBQyxNQUFNLEVBQUUsU0FBUyxDQUFDLENBQUM7b0JBR3ZHLHFCQUFNLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQyxJQUFJLENBQUMsVUFBQyxNQUFNLElBQUssT0FBQSxNQUFNLENBQUMsTUFBTSxDQUFDLE9BQU8sRUFBckIsQ0FBcUIsQ0FBQyxFQUFBOztnQkFEckUsWUFBWTtnQkFDWixzQkFBTyxTQUE4RCxFQUFDOzs7O0NBQ3ZFO0FBeEJELHNDQXdCQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE1pZGRsZXdhcmVTdGFjayB9IGZyb20gXCJAYXdzLXNkay9taWRkbGV3YXJlLXN0YWNrXCI7XG5pbXBvcnQgeyBDbGllbnQsIENvbW1hbmQgfSBmcm9tIFwiQGF3cy1zZGsvc21pdGh5LWNsaWVudFwiO1xuaW1wb3J0IHsgQnVpbGRNaWRkbGV3YXJlLCBIdHRwUmVxdWVzdCwgTWV0YWRhdGFCZWFyZXIgfSBmcm9tIFwiQGF3cy1zZGsvdHlwZXNcIjtcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZVJlcXVlc3Q8XG4gIElucHV0VHlwZXNVbmlvbiBleHRlbmRzIG9iamVjdCxcbiAgSW5wdXRUeXBlIGV4dGVuZHMgSW5wdXRUeXBlc1VuaW9uLFxuICBPdXRwdXRUeXBlIGV4dGVuZHMgTWV0YWRhdGFCZWFyZXIgPSBNZXRhZGF0YUJlYXJlclxuPihcbiAgY2xpZW50OiBDbGllbnQ8YW55LCBJbnB1dFR5cGVzVW5pb24sIE1ldGFkYXRhQmVhcmVyLCBhbnk+LFxuICBjb21tYW5kOiBDb21tYW5kPElucHV0VHlwZSwgT3V0cHV0VHlwZSwgYW55LCBJbnB1dFR5cGVzVW5pb24sIE1ldGFkYXRhQmVhcmVyPlxuKTogUHJvbWlzZTxIdHRwUmVxdWVzdD4ge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVudXNlZC12YXJzXG4gIGNvbnN0IGludGVyY2VwdE1pZGRsZXdhcmU6IEJ1aWxkTWlkZGxld2FyZTxJbnB1dFR5cGUsIE91dHB1dFR5cGU+ID0gKG5leHQpID0+IGFzeW5jIChhcmdzKSA9PiB7XG4gICAgcmV0dXJuIHsgb3V0cHV0OiB7IHJlcXVlc3Q6IGFyZ3MucmVxdWVzdCB9IGFzIGFueSwgcmVzcG9uc2U6IHVuZGVmaW5lZCB9O1xuICB9O1xuICBjb25zdCBjbGllbnRTdGFjayA9IGNsaWVudC5taWRkbGV3YXJlU3RhY2suY2xvbmUoKTtcblxuICAvL2FkZCBtaWRkbGV3YXJlIHRvIHRoZSBsYXN0IG9mICdidWlsZCcgc3RlcFxuICBjbGllbnRTdGFjay5hZGQoaW50ZXJjZXB0TWlkZGxld2FyZSwge1xuICAgIHN0ZXA6IFwiYnVpbGRcIixcbiAgICBwcmlvcml0eTogXCJsb3dcIixcbiAgfSk7XG5cbiAgY29uc3QgaGFuZGxlciA9IGNvbW1hbmQucmVzb2x2ZU1pZGRsZXdhcmUoY2xpZW50U3RhY2sgYXMgTWlkZGxld2FyZVN0YWNrPGFueSwgYW55PiwgY2xpZW50LmNvbmZpZywgdW5kZWZpbmVkKTtcblxuICAvL0B0cy1pZ25vcmVcbiAgcmV0dXJuIGF3YWl0IGhhbmRsZXIoY29tbWFuZCkudGhlbigob3V0cHV0KSA9PiBvdXRwdXQub3V0cHV0LnJlcXVlc3QpO1xufVxuIl19